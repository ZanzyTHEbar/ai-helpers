<mxfile host="65bd71144e">
    <diagram id="wVct_VNZxDn5CFzn47dh" name="VerdantArch">
        <mxGraphModel dx="1681" dy="3394" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="XxD-_J9qws9552msc-_1-103" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="2600" y="-1470" width="2120" height="1350" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=7;" parent="XxD-_J9qws9552msc-_1-103" vertex="1">
                    <mxGeometry width="2120" height="1350" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="Adaptive RAG" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" parent="XxD-_J9qws9552msc-_1-103" vertex="1">
                    <mxGeometry x="80" width="342.7" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;FLARE RAG&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="XxD-_J9qws9552msc-_1-103" vertex="1">
                    <mxGeometry x="1133.3333333333335" y="36.986301369863014" width="485.7142857142857" height="110.95890410958904" as="geometry"/>
                </mxCell>
                <mxCell id="70" value="" style="edgeStyle=none;html=1;" parent="XxD-_J9qws9552msc-_1-103" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1538.0952380952383" y="684.2465753424658" as="sourcePoint"/>
                        <mxPoint x="1538.0952380952383" y="684.2465753424658" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-129" value="" style="group" parent="XxD-_J9qws9552msc-_1-103" vertex="1" connectable="0">
                    <mxGeometry x="710" y="415.69" width="1300" height="608.63" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-130" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;" parent="aYEQCfHvbGoQM59aeuxb-129" vertex="1">
                    <mxGeometry width="1300" height="608.63" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-131" value="Re-Ranking/Grading of retrieved chunks" style="whiteSpace=wrap;html=1;rounded=1;" parent="aYEQCfHvbGoQM59aeuxb-129" vertex="1">
                    <mxGeometry x="70.65217391304347" y="230.09182926829268" width="169.56521739130434" height="89.06780487804876" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-132" value="Any Relevant Docs?" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="aYEQCfHvbGoQM59aeuxb-129" vertex="1">
                    <mxGeometry x="381.5217391304348" y="192.98024390243904" width="155.43478260869566" height="163.2909756097561" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-133" value="" style="edgeStyle=none;html=1;" parent="aYEQCfHvbGoQM59aeuxb-129" source="aYEQCfHvbGoQM59aeuxb-131" target="aYEQCfHvbGoQM59aeuxb-132" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-134" value="Web Search" style="ellipse;whiteSpace=wrap;html=1;rounded=1;" parent="aYEQCfHvbGoQM59aeuxb-129" vertex="1">
                    <mxGeometry x="494.5652173913043" y="66.80085365853658" width="113.04347826086956" height="118.75707317073172" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-135" value="Generate Answer" style="ellipse;whiteSpace=wrap;html=1;rounded=1;" parent="aYEQCfHvbGoQM59aeuxb-129" vertex="1">
                    <mxGeometry x="494.5652173913043" y="393.3828048780487" width="113.04347826086956" height="118.75707317073172" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-136" value="" style="endArrow=classic;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="aYEQCfHvbGoQM59aeuxb-129" source="aYEQCfHvbGoQM59aeuxb-132" target="aYEQCfHvbGoQM59aeuxb-134" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="226.08695652173913" y="22.26695121951219" as="sourcePoint"/>
                        <mxPoint x="367.39130434782606" y="22.26695121951219" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-137" value="No" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="aYEQCfHvbGoQM59aeuxb-136" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-138" value="" style="endArrow=classic;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="aYEQCfHvbGoQM59aeuxb-129" source="aYEQCfHvbGoQM59aeuxb-132" target="aYEQCfHvbGoQM59aeuxb-135" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="521.4130434782609" y="334.0042682926829" as="sourcePoint"/>
                        <mxPoint x="521.4130434782609" y="467.6059756097561" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-139" value="Yes" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="aYEQCfHvbGoQM59aeuxb-138" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-140" value="Hallucinations?" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="aYEQCfHvbGoQM59aeuxb-129" vertex="1">
                    <mxGeometry x="650" y="378.53817073170734" width="141.30434782608694" height="148.44634146341463" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-141" value="Answers Question?" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="aYEQCfHvbGoQM59aeuxb-129" vertex="1">
                    <mxGeometry x="763.0434782608696" y="259.78109756097564" width="141.30434782608694" height="148.44634146341463" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-142" value="" style="endArrow=classic;html=1;exitX=0.764;exitY=0.275;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="aYEQCfHvbGoQM59aeuxb-129" source="aYEQCfHvbGoQM59aeuxb-140" target="aYEQCfHvbGoQM59aeuxb-141" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="722.4184782608692" y="358.1267987804878" as="sourcePoint"/>
                        <mxPoint x="775.4076086956518" y="309.88173780487807" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-143" value="No" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="aYEQCfHvbGoQM59aeuxb-142" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-144" value="" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="aYEQCfHvbGoQM59aeuxb-129" source="aYEQCfHvbGoQM59aeuxb-135" target="aYEQCfHvbGoQM59aeuxb-140" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="678.2608695652174" y="452.7613414634147" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-145" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="aYEQCfHvbGoQM59aeuxb-129" source="aYEQCfHvbGoQM59aeuxb-140" target="aYEQCfHvbGoQM59aeuxb-135" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="800.3478260869564" y="434.2055487804879" as="sourcePoint"/>
                        <mxPoint x="763.0434782608696" y="571.5184146341462" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="720.6521739130435" y="586.3630487804878"/>
                            <mxPoint x="551.0869565217392" y="586.3630487804878"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-146" value="Yes" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="aYEQCfHvbGoQM59aeuxb-145" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-147" value="" style="endArrow=classic;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;" parent="aYEQCfHvbGoQM59aeuxb-129" source="aYEQCfHvbGoQM59aeuxb-141" target="aYEQCfHvbGoQM59aeuxb-134" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="772.0869565217394" y="434.2055487804879" as="sourcePoint"/>
                        <mxPoint x="748.9130434782609" y="259.78109756097564" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-148" value="No" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="aYEQCfHvbGoQM59aeuxb-147" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-149" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="aYEQCfHvbGoQM59aeuxb-129" source="aYEQCfHvbGoQM59aeuxb-141" target="aYEQCfHvbGoQM59aeuxb-151" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="890.2173913043478" y="378.53817073170734" as="sourcePoint"/>
                        <mxPoint x="1003.2608695652174" y="334.0042682926829" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-150" value="Yes" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="aYEQCfHvbGoQM59aeuxb-149" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-151" value="Output" style="rounded=1;whiteSpace=wrap;html=1;" parent="aYEQCfHvbGoQM59aeuxb-129" vertex="1">
                    <mxGeometry x="1003.2608695652174" y="289.4703658536585" width="169.56521739130434" height="89.06780487804876" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-152" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;RAG + Self-reflection&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=12 12;" parent="aYEQCfHvbGoQM59aeuxb-129" vertex="1">
                    <mxGeometry x="98.91304347826087" y="14.844634146341464" width="367.39130434782606" height="89.06780487804876" as="geometry"/>
                </mxCell>
                <mxCell id="aYEQCfHvbGoQM59aeuxb-175" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="3080" y="-2090" width="1080" height="420" as="geometry"/>
                </mxCell>
                <mxCell id="96" value="" style="whiteSpace=wrap;html=1;rounded=1;arcSize=7;" parent="aYEQCfHvbGoQM59aeuxb-175" vertex="1">
                    <mxGeometry width="1080" height="420" as="geometry"/>
                </mxCell>
                <mxCell id="98" value="&lt;span style=&quot;font-size: 24px;&quot;&gt;LLM Agent Manager&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="aYEQCfHvbGoQM59aeuxb-175" vertex="1">
                    <mxGeometry x="26.25" y="15" width="248.75" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-103" value="&lt;span style=&quot;font-size: 24px;&quot;&gt;Lazy Cache&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="aYEQCfHvbGoQM59aeuxb-175" vertex="1">
                    <mxGeometry x="26.25" y="125" width="108.75" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-104" value="&lt;span style=&quot;font-size: 24px;&quot;&gt;Agent Cache&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="aYEQCfHvbGoQM59aeuxb-175" vertex="1">
                    <mxGeometry x="165" y="125" width="108.75" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-105" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="aYEQCfHvbGoQM59aeuxb-175" source="yeNO2wZLSxJZdJxUq8SW-103" target="yeNO2wZLSxJZdJxUq8SW-104" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-106" value="Fallback Pattern" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="aYEQCfHvbGoQM59aeuxb-175" vertex="1">
                    <mxGeometry x="295.0050000000001" y="115" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-107" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="aYEQCfHvbGoQM59aeuxb-175" source="yeNO2wZLSxJZdJxUq8SW-104" target="yeNO2wZLSxJZdJxUq8SW-106" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-108" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Agents&lt;br&gt;&lt;br&gt;&lt;/font&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;rounded=1;align=center;verticalAlign=top;" parent="aYEQCfHvbGoQM59aeuxb-175" vertex="1">
                    <mxGeometry x="25" y="225" width="370.01" height="170" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-109" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="aYEQCfHvbGoQM59aeuxb-175" source="yeNO2wZLSxJZdJxUq8SW-106" target="yeNO2wZLSxJZdJxUq8SW-108" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="335" y="205"/>
                            <mxPoint x="210" y="205"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-110" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Hyper Speed Agent&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="aYEQCfHvbGoQM59aeuxb-175" vertex="1">
                    <mxGeometry x="150.3199999999997" y="275" width="119.37" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-111" value="Fast Agent" style="rounded=1;whiteSpace=wrap;html=1;" parent="aYEQCfHvbGoQM59aeuxb-175" vertex="1">
                    <mxGeometry x="150.3199999999997" y="315" width="119.37" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-112" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=12;fontColor=#f3f3f3;" parent="aYEQCfHvbGoQM59aeuxb-175" source="yeNO2wZLSxJZdJxUq8SW-110" target="yeNO2wZLSxJZdJxUq8SW-111" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-113" value="Accurate Agent" style="rounded=1;whiteSpace=wrap;html=1;" parent="aYEQCfHvbGoQM59aeuxb-175" vertex="1">
                    <mxGeometry x="150.3199999999997" y="355" width="119.37" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-114" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=12;fontColor=#f3f3f3;" parent="aYEQCfHvbGoQM59aeuxb-175" source="yeNO2wZLSxJZdJxUq8SW-111" target="yeNO2wZLSxJZdJxUq8SW-113" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-115" value="LLMCompiler" style="whiteSpace=wrap;html=1;rounded=1;dashed=1;dashPattern=8 8;" parent="aYEQCfHvbGoQM59aeuxb-175" vertex="1">
                    <mxGeometry x="414.9949999999999" y="125" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="yeNO2wZLSxJZdJxUq8SW-116" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=12;fontColor=#f3f3f3;" parent="aYEQCfHvbGoQM59aeuxb-175" source="yeNO2wZLSxJZdJxUq8SW-106" target="yeNO2wZLSxJZdJxUq8SW-115" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="84" value="" style="whiteSpace=wrap;html=1;rounded=1;arcSize=7;container=0;" parent="1" vertex="1">
                    <mxGeometry x="1209.63" y="-2070" width="1241.92" height="1250" as="geometry"/>
                </mxCell>
                <mxCell id="87" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Data Preparation&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;container=0;" parent="1" vertex="1">
                    <mxGeometry x="1268.7690476190476" y="-2033.6363636363637" width="413.9733333333333" height="72.72727272727272" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-252" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="88" target="89" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="88" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Raw Data Sources&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;container=0;" parent="1" vertex="1">
                    <mxGeometry x="1944.88" y="-2015.08" width="205.11" height="35.61" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-253" value="" style="edgeStyle=none;html=1;fontSize=12;" parent="1" source="89" target="ZS5h_QZ1MWFwK11WsJUL-243" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="89" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Information Extraction&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;container=0;" parent="1" vertex="1">
                    <mxGeometry x="1928.85" y="-1949.9999999999998" width="237.17" height="36.67" as="geometry"/>
                </mxCell>
                <mxCell id="93" value="&lt;span style=&quot;font-size: 24px;&quot;&gt;Embedding&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;container=0;" parent="1" vertex="1">
                    <mxGeometry x="1975.51" y="-1820" width="143.85" height="33.03" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-233" value="Notes" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=12;verticalAlign=middle;" parent="1" vertex="1">
                    <mxGeometry x="1275.7600000000002" y="-1936.67" width="400" height="930" as="geometry">
                        <mxRectangle x="1275.7600000000002" y="-1936.67" width="70" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-234" value="&lt;b&gt;Chunking:&lt;/b&gt; Chunk size and overlap depends on document type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;" parent="ZS5h_QZ1MWFwK11WsJUL-233" vertex="1">
                    <mxGeometry y="30" width="400" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-235" value="&lt;b&gt;ParentDocumentRetriever: &lt;/b&gt;child_splitter for small docs, parent_splitter for large docs. VectorStore stores child_splitter chunks, in-memory vector store stores parent_splitter chunks. Pass child_splitter, parent_splitter, in-memory store, and vectorstore to ParentDocumentRetriever. Then, add docs as normal to the retriever instance.&lt;br&gt;&lt;br&gt;This retriever uses multiple chunk-sizes to optimize relevancy over large-document amounts." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;" parent="ZS5h_QZ1MWFwK11WsJUL-233" vertex="1">
                    <mxGeometry y="60" width="400" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-236" value="&lt;b&gt;MultiQueryRetriever: &lt;/b&gt;Creates variations (multiple different versions) of the initial query using an LLM instance to manage variations in user semantics. Iteratively runs each version against the database to find chunk matches. Merges all results into a single list of chunks, and drops duplicate chunks from the list. Requires a retriever and an llm instance." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;" parent="ZS5h_QZ1MWFwK11WsJUL-233" vertex="1">
                    <mxGeometry y="190" width="400" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-237" value="&lt;b&gt;ContextualCompression: &lt;/b&gt;Token/Chuk optimization by removing redundant and irrelevant contextual data. Takes in a list of chunksand shortens them by reducing the content or omitting chunks altogether relative to the larger context of the documents themselves. Requires a retriever instance and a document compressor instance. Document Compressor is an LLM Agent whose sole job is to optimize the chunk size and tokens based on contextual relevancy. LLMChainExtractor from langchain provides this functionality along with the&amp;nbsp; ContextualCompressionRetriever class. - Powerful but expensive as an LLM call is required for every chunk." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;" parent="ZS5h_QZ1MWFwK11WsJUL-233" vertex="1">
                    <mxGeometry y="270" width="400" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-238" value="&lt;b&gt;EmbeddingsFilter:&amp;nbsp; &lt;/b&gt;ContextualCompression, but uses EmbeddingsFilter instead of LLMChainExtractor&lt;b&gt;&amp;nbsp;&lt;/b&gt;as the compressor. Sends chunks to an embedding model instead of LLM. Calculates the cosine similarity of each chunk, sets a similarity threshold that is used to drop chunks. Chunks are not changed, only filtered. Set it threshold too high, returns an empty list. Set it too low, and no filtering is done. Needs optimization. Cheaper than LLM, but not as powerful.&amp;nbsp;&lt;br&gt;Can use multiple filters in a pipeline &lt;br&gt;(Ex: CharacterTextSplitter-&amp;gt;EmbeddingsRedundantFilter-&amp;gt;EmbeddingsFilter) = DocumentCompressorPipeline as a compressor for ContextualCompressionRetriever" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;" parent="ZS5h_QZ1MWFwK11WsJUL-233" vertex="1">
                    <mxGeometry y="420" width="400" height="170" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-240" value="&lt;b&gt;EnsembleRetriever:&amp;nbsp;&lt;/b&gt;Makes use of a list of algorithms to retrieve the best top_k chunks from a vector store. Compatible with key-word search algorithm BM25 using the BM25Retriever. Allows us to use key-word search and vector search for a hybrid retrieval pipeline. Takes in a list of retrievers and weights (weights must add up to 1), weights are a representation of importance per retriver. So [bm25_retriever, vector_retriever], weights=[0.5,0.5] means that both retrievers are important." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;" parent="ZS5h_QZ1MWFwK11WsJUL-233" vertex="1">
                    <mxGeometry y="590" width="400" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-241" value="&lt;b&gt;Self-QueryingRetriever:&amp;nbsp; &lt;/b&gt;Uses the underlying metadata of a document/chunk. Uses an LLM chain for query construction to write a structured query and then applies it to any connected databases. This allows the retriever use initial query for semantic similarity comparison with the content of retrieved chunks, but also apply filters from the initial query to the metadata of the stored chunks." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;" parent="ZS5h_QZ1MWFwK11WsJUL-233" vertex="1">
                    <mxGeometry y="710" width="400" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-242" value="&lt;b&gt;Time-WeightedVectorStoreRetriever: &lt;/b&gt;Makes use of a timestamp metadata attribute on each stored chunk with a set decay-rate for the store to invalidate chunks that are not used within certain time-decay thresholds. Supports Last Accessed At and Last Created At. Decay rate has a large impact on retreival relevancy. Very powerful for time-series and time-sensative information but requires optimization and application-specific tuning.&amp;nbsp;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;" parent="ZS5h_QZ1MWFwK11WsJUL-233" vertex="1">
                    <mxGeometry y="810" width="400" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="99" value="This step is done asynchronous to RAG pipeline, and is done before initial launch. Feedback mechanism is used to enhance the populated DB." style="rounded=0;whiteSpace=wrap;html=1;fontSize=24;" parent="1" vertex="1">
                    <mxGeometry x="1409.63" y="-2200" width="815" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-254" value="" style="edgeStyle=none;html=1;fontSize=12;" parent="1" source="ZS5h_QZ1MWFwK11WsJUL-243" target="93" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ZS5h_QZ1MWFwK11WsJUL-243" value="&lt;span style=&quot;font-size: 24px;&quot;&gt;Chunking&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;container=0;" parent="1" vertex="1">
                    <mxGeometry x="1985.51" y="-1880" width="123.85" height="35.76" as="geometry"/>
                </mxCell>
                <mxCell id="dtIrAh_tlY_VoIL4Kjmq-109" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;User Query&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="1020" y="610" width="129.63" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="dtIrAh_tlY_VoIL4Kjmq-116" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=24;" parent="1" source="dtIrAh_tlY_VoIL4Kjmq-110" target="dtIrAh_tlY_VoIL4Kjmq-114" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1440" y="595"/>
                            <mxPoint x="1440" y="520"/>
                            <mxPoint x="1440" y="341"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="dtIrAh_tlY_VoIL4Kjmq-110" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Query Processor&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="1214.8200000000002" y="580" width="190.37" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="dtIrAh_tlY_VoIL4Kjmq-111" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;" parent="1" source="dtIrAh_tlY_VoIL4Kjmq-109" target="dtIrAh_tlY_VoIL4Kjmq-110" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="dtIrAh_tlY_VoIL4Kjmq-117" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=24;" parent="1" source="dtIrAh_tlY_VoIL4Kjmq-112" target="dtIrAh_tlY_VoIL4Kjmq-115" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1420" y="665"/>
                            <mxPoint x="1420" y="740"/>
                            <mxPoint x="1420" y="1350"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="dtIrAh_tlY_VoIL4Kjmq-112" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Decision Engine&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="1214.8200000000002" y="650" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="dtIrAh_tlY_VoIL4Kjmq-113" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;" parent="1" source="dtIrAh_tlY_VoIL4Kjmq-109" target="dtIrAh_tlY_VoIL4Kjmq-112" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="dtIrAh_tlY_VoIL4Kjmq-114" value="" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;rounded=1;fontSize=24;" parent="1" vertex="1">
                    <mxGeometry x="1470" y="32.43" width="3080" height="617.57" as="geometry"/>
                </mxCell>
                <mxCell id="dtIrAh_tlY_VoIL4Kjmq-115" value="" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;rounded=1;fontSize=24;" parent="1" vertex="1">
                    <mxGeometry x="1460" y="710" width="3100" height="1280" as="geometry"/>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-100" value="" style="edgeStyle=none;html=1;fontSize=24;" parent="1" source="lRIXtpe-s67Zgsjay-f4-99" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="2984" y="307.42" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-106" value="" style="edgeStyle=none;html=1;fontSize=24;" parent="1" source="lRIXtpe-s67Zgsjay-f4-99" target="JdLTlZyW0Yv0Q7jSRMBB-105" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-99" value="Query Expansion" style="swimlane;html=1;startSize=20;horizontal=0;childLayout=flowLayout;flowOrientation=west;resizable=0;interRankCellSpacing=50;containerType=tree;fontSize=12;rotation=0;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="2853.9999999999995" y="130" width="460" height="360" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-100" value="DB Query" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="40" y="160" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-101" value="Expand" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="190" y="20" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-102" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="lRIXtpe-s67Zgsjay-f4-99" source="lRIXtpe-s67Zgsjay-f4-100" target="lRIXtpe-s67Zgsjay-f4-101" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="152" y="164"/>
                            <mxPoint x="178" y="40"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-103" value="Expand" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="190" y="90" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-104" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="lRIXtpe-s67Zgsjay-f4-99" source="lRIXtpe-s67Zgsjay-f4-100" target="lRIXtpe-s67Zgsjay-f4-103" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="154" y="172"/>
                            <mxPoint x="178" y="110"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-105" value="Expand" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="190" y="160" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-106" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="lRIXtpe-s67Zgsjay-f4-99" source="lRIXtpe-s67Zgsjay-f4-100" target="lRIXtpe-s67Zgsjay-f4-105" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="156" y="180"/>
                            <mxPoint x="178" y="180"/>
                        </Array>
                        <mxPoint x="9140" y="4567.5" as="sourcePoint"/>
                        <mxPoint x="9190" y="4540" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-107" value="Expand" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="190" y="230" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-108" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="lRIXtpe-s67Zgsjay-f4-99" source="lRIXtpe-s67Zgsjay-f4-100" target="lRIXtpe-s67Zgsjay-f4-107" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="154" y="188"/>
                            <mxPoint x="178" y="250"/>
                        </Array>
                        <mxPoint x="9060" y="4580" as="sourcePoint"/>
                        <mxPoint x="9110" y="4640" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-109" value="Expand" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="190" y="300" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-110" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="lRIXtpe-s67Zgsjay-f4-99" source="lRIXtpe-s67Zgsjay-f4-100" target="lRIXtpe-s67Zgsjay-f4-109" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="152" y="196"/>
                            <mxPoint x="178" y="320"/>
                        </Array>
                        <mxPoint x="9020" y="4596.25" as="sourcePoint"/>
                        <mxPoint x="9070" y="4690" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-111" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="lRIXtpe-s67Zgsjay-f4-99" source="lRIXtpe-s67Zgsjay-f4-101" target="lRIXtpe-s67Zgsjay-f4-112" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="40"/>
                            <mxPoint x="328" y="40"/>
                        </Array>
                        <mxPoint x="7645" y="6029" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-112" value="Embedding" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="340" y="20" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-113" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="lRIXtpe-s67Zgsjay-f4-99" source="lRIXtpe-s67Zgsjay-f4-103" target="lRIXtpe-s67Zgsjay-f4-114" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="110"/>
                            <mxPoint x="328" y="110"/>
                        </Array>
                        <mxPoint x="7565" y="5997" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-114" value="Embedding" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="340" y="90" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-115" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="lRIXtpe-s67Zgsjay-f4-99" source="lRIXtpe-s67Zgsjay-f4-105" target="lRIXtpe-s67Zgsjay-f4-116" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="180"/>
                            <mxPoint x="328" y="180"/>
                        </Array>
                        <mxPoint x="7485" y="5965" as="sourcePoint"/>
                        <mxPoint x="9190" y="4540" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-116" value="Embedding" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="340" y="160" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-117" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="lRIXtpe-s67Zgsjay-f4-99" source="lRIXtpe-s67Zgsjay-f4-107" target="lRIXtpe-s67Zgsjay-f4-118" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="250"/>
                            <mxPoint x="328" y="250"/>
                        </Array>
                        <mxPoint x="7405" y="5933" as="sourcePoint"/>
                        <mxPoint x="9110" y="4640" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-118" value="Embedding" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="340" y="230" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-119" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="lRIXtpe-s67Zgsjay-f4-99" source="lRIXtpe-s67Zgsjay-f4-109" target="lRIXtpe-s67Zgsjay-f4-120" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="320"/>
                            <mxPoint x="328" y="320"/>
                        </Array>
                        <mxPoint x="7325" y="5901" as="sourcePoint"/>
                        <mxPoint x="9070" y="4690" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lRIXtpe-s67Zgsjay-f4-120" value="Embedding" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="lRIXtpe-s67Zgsjay-f4-99" vertex="1">
                    <mxGeometry x="340" y="300" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="139" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="JdLTlZyW0Yv0Q7jSRMBB-105" target="JdLTlZyW0Yv0Q7jSRMBB-114">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-105" value="&lt;span style=&quot;font-weight: normal;&quot;&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;Cross Encoder&lt;/font&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;fontStyle=1;startSize=20;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="3370" y="290.28999999999996" width="170" height="37.43" as="geometry"/>
                </mxCell>
                <mxCell id="119" value="" style="edgeStyle=none;html=1;fontSize=8;" parent="1" source="101" target="111" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="101" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="1820" y="232.43" width="399.41" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="102" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Query Analysis&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="1820" y="190" width="170" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="103" value="" style="endArrow=classic;html=1;fontSize=24;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.015;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="101" target="105" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1861.13" y="310" as="sourcePoint"/>
                        <mxPoint x="1954" y="307" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="104" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Question&lt;/font&gt;" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;fontSize=24;horizontal=1;" parent="103" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="107" value="" style="edgeStyle=none;html=1;fontSize=12;" parent="1" source="105" target="106" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="105" value="" style="shape=mxgraph.signs.healthcare.brain;html=1;pointerEvents=1;verticalLabelPosition=bottom;verticalAlign=top;align=center;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="1894.7" y="290.93" width="39.3" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="106" value="Rephrase, breakdown, abstract" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1954" y="293.71000000000004" width="170" height="27.43" as="geometry"/>
                </mxCell>
                <mxCell id="108" value="Decomposition, Step-back&lt;br&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;Less concern about highly granular chunk retrieval&lt;br&gt;Just direct question to the right doc/database&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="1944" y="320" width="190" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="109" value="Input Question Translation" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="1964" y="250" width="150" height="17.57" as="geometry"/>
                </mxCell>
                <mxCell id="110" value="DB Router" style="swimlane;html=1;startSize=20;horizontal=0;childLayout=flowLayout;flowOrientation=west;resizable=0;interRankCellSpacing=50;containerType=tree;fontSize=12;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="2234" y="220" width="350" height="178" as="geometry"/>
                </mxCell>
                <mxCell id="111" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Router&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fontSize=24;" parent="110" vertex="1">
                    <mxGeometry x="40" y="79.25" width="60" height="19.5" as="geometry"/>
                </mxCell>
                <mxCell id="112" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Graph&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fontSize=24;" parent="110" vertex="1">
                    <mxGeometry x="155" y="20" width="60" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="113" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=24;" parent="110" source="111" target="112" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="112" y="79.33333333333334"/>
                            <mxPoint x="138" y="30"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="114" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Relational&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fontSize=24;" parent="110" vertex="1">
                    <mxGeometry x="150" y="79" width="70" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="115" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=24;" parent="110" source="111" target="114" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="114" y="89"/>
                            <mxPoint x="138" y="89"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="116" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;End&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fontSize=24;" parent="110" vertex="1">
                    <mxGeometry x="270" y="76.75" width="60" height="24.5" as="geometry"/>
                </mxCell>
                <mxCell id="117" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=24;" parent="110" source="112" target="116" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="232" y="30"/>
                            <mxPoint x="258" y="79.33333333333334"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="118" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=24;" parent="110" source="114" target="116" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="232" y="89"/>
                            <mxPoint x="256" y="89"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="124" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fontSize=12;noEdgeStyle=1;orthogonal=1;" parent="110" source="120" target="116" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="232" y="148"/>
                            <mxPoint x="258" y="98.66666666666667"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="120" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Vector&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fontSize=24;" parent="110" vertex="1">
                    <mxGeometry x="155" y="138" width="60" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="121" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=24;" parent="110" source="111" target="120" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="112" y="98.66666666666667"/>
                            <mxPoint x="138" y="148"/>
                        </Array>
                        <mxPoint x="4060" y="1598.7499999999973" as="sourcePoint"/>
                        <mxPoint x="4115" y="1623.4999999999973" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="138" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="125" target="lRIXtpe-s67Zgsjay-f4-99">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="125" value="Query Construction" style="rhombus;whiteSpace=wrap;html=1;fontSize=12;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="2604" y="258.5" width="100" height="101" as="geometry"/>
                </mxCell>
                <mxCell id="128" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="116" target="125" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="129" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;dashed=1;dashPattern=12 12;" parent="1" vertex="1">
                    <mxGeometry x="2264" y="480" width="570" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="130" value="&lt;b&gt;Relational DBs&lt;/b&gt;&lt;br&gt;&lt;i&gt;question -&amp;gt; LLM -&amp;gt; DB&lt;/i&gt;&lt;br&gt;&lt;b&gt;&lt;br&gt;Text-to-SQL&lt;br&gt;&lt;/b&gt;Natural Language to SQL&lt;br&gt;and/or SQL w/ PGVector" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;fontSize=12;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="2264" y="480" width="190" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="133" value="&lt;b&gt;Graph DBs&lt;/b&gt;&lt;br&gt;&lt;i&gt;question -&amp;gt; LLM -&amp;gt; DB&lt;/i&gt;&lt;br&gt;&lt;b&gt;&lt;br&gt;Text-to-Cypher&lt;br&gt;&lt;/b&gt;Natural Language to Cypher&lt;br&gt;query language for GraphDBs" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;fontSize=12;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="2454" y="480" width="190" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="134" value="&lt;b&gt;Vector DBs&lt;/b&gt;&lt;br&gt;&lt;i&gt;question -&amp;gt; LLM -&amp;gt; DB&lt;/i&gt;&lt;br&gt;&lt;b&gt;&lt;br&gt;Self-Query-Retriever&lt;br&gt;&lt;/b&gt;Auto-generate metadata&lt;br&gt;filters from query" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;fontSize=12;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="2644" y="480" width="190" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="135" value="" style="endArrow=none;dashed=1;html=1;fontSize=12;entryX=0.684;entryY=0.005;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="125" target="129" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="2604" y="460" as="sourcePoint"/>
                        <mxPoint x="2654" y="410" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="136" value="&lt;b&gt;Logical Routing&lt;/b&gt;&lt;i&gt;&lt;br&gt;route to the right DB&lt;br&gt;&lt;/i&gt;&lt;b&gt;&lt;br&gt;LLM Routing&lt;br&gt;&lt;/b&gt;Uses Logic and LLM to determine the right DB for the Query" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;fontSize=12;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="2234" y="130" width="350" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-114" value="EnsembleRetriever" style="swimlane;html=1;startSize=20;horizontal=0;childLayout=flowLayout;flowOrientation=west;resizable=0;interRankCellSpacing=50;containerType=tree;fontSize=12;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="3614" y="246.93" width="370" height="121" as="geometry"/>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-115" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Retrievers&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fontSize=24;" parent="JdLTlZyW0Yv0Q7jSRMBB-114" vertex="1">
                    <mxGeometry x="40" y="47.5" width="80" height="24" as="geometry"/>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-116" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Semantic&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fontSize=24;" parent="JdLTlZyW0Yv0Q7jSRMBB-114" vertex="1">
                    <mxGeometry x="175" y="20" width="70" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-117" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=24;" parent="JdLTlZyW0Yv0Q7jSRMBB-114" source="JdLTlZyW0Yv0Q7jSRMBB-115" target="JdLTlZyW0Yv0Q7jSRMBB-116" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="132" y="54.75"/>
                            <mxPoint x="158" y="30"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-118" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Key-Word&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fontSize=24;" parent="JdLTlZyW0Yv0Q7jSRMBB-114" vertex="1">
                    <mxGeometry x="170" y="76.75" width="80" height="24.5" as="geometry"/>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-119" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=24;" parent="JdLTlZyW0Yv0Q7jSRMBB-114" source="JdLTlZyW0Yv0Q7jSRMBB-115" target="JdLTlZyW0Yv0Q7jSRMBB-118" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="132" y="64.25"/>
                            <mxPoint x="158" y="89"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-120" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;End&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fontSize=24;" parent="JdLTlZyW0Yv0Q7jSRMBB-114" vertex="1">
                    <mxGeometry x="300" y="49.75" width="50" height="19.5" as="geometry"/>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-121" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=24;" parent="JdLTlZyW0Yv0Q7jSRMBB-114" source="JdLTlZyW0Yv0Q7jSRMBB-116" target="JdLTlZyW0Yv0Q7jSRMBB-120" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="262" y="30"/>
                            <mxPoint x="288" y="54.75"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="JdLTlZyW0Yv0Q7jSRMBB-122" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=24;" parent="JdLTlZyW0Yv0Q7jSRMBB-114" source="JdLTlZyW0Yv0Q7jSRMBB-118" target="JdLTlZyW0Yv0Q7jSRMBB-120" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="262" y="89"/>
                            <mxPoint x="288" y="64.25"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="3fHBgLNfjDE7By4jd7fA" name="RAG Pipelines">
        <mxGraphModel dx="4430" dy="3190" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-105" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;dashed=1;dashPattern=12 12;" parent="1" vertex="1">
                    <mxGeometry x="1040" y="3100" width="500" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-103" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;dashed=1;dashPattern=12 12;" parent="1" vertex="1">
                    <mxGeometry x="520" y="3200" width="180" height="480" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-3" value="" style="edgeStyle=none;html=1;" parent="1" source="mAXVmFulQRmJ9YafjD45-1" target="mAXVmFulQRmJ9YafjD45-2" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-1" value="Query" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="50" y="485" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-5" value="" style="edgeStyle=none;html=1;" parent="1" source="mAXVmFulQRmJ9YafjD45-2" target="mAXVmFulQRmJ9YafjD45-4" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-2" value="Vector Retrieval Pipeline" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="200" y="485" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-7" value="" style="edgeStyle=none;html=1;" parent="1" source="mAXVmFulQRmJ9YafjD45-4" target="mAXVmFulQRmJ9YafjD45-6" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-4" value="Re-Ranking/Grading of retrieved chunks" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="340" y="485" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-6" value="Any Relevant Docs?" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="490" y="460" width="110" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-8" value="Web Search" style="ellipse;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="570" y="375" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-37" value="" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="mAXVmFulQRmJ9YafjD45-10" target="mAXVmFulQRmJ9YafjD45-30" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="700" y="635" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-10" value="Generate Answer" style="ellipse;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="570" y="595" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-12" value="" style="endArrow=classic;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="mAXVmFulQRmJ9YafjD45-6" target="mAXVmFulQRmJ9YafjD45-8" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="380" y="345" as="sourcePoint"/>
                        <mxPoint x="480" y="345" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-13" value="No" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="mAXVmFulQRmJ9YafjD45-12" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-14" value="" style="endArrow=classic;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="mAXVmFulQRmJ9YafjD45-6" target="mAXVmFulQRmJ9YafjD45-10" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="589" y="555" as="sourcePoint"/>
                        <mxPoint x="589" y="645" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-15" value="Yes" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="mAXVmFulQRmJ9YafjD45-14" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-30" value="Hallucinations?" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="680" y="585" width="100" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-31" value="Answers Question?" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="760" y="505" width="100" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-33" value="" style="endArrow=classic;html=1;exitX=0.764;exitY=0.275;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="mAXVmFulQRmJ9YafjD45-30" target="mAXVmFulQRmJ9YafjD45-31" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="731.2499999999998" y="571.25" as="sourcePoint"/>
                        <mxPoint x="768.7499999999998" y="538.75" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-34" value="No" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="mAXVmFulQRmJ9YafjD45-33" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-35" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="mAXVmFulQRmJ9YafjD45-30" target="mAXVmFulQRmJ9YafjD45-10" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="786.3999999999999" y="622.5" as="sourcePoint"/>
                        <mxPoint x="760" y="715" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="730" y="725"/>
                            <mxPoint x="610" y="725"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-36" value="Yes" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="mAXVmFulQRmJ9YafjD45-35" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-39" value="" style="endArrow=classic;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;" parent="1" source="mAXVmFulQRmJ9YafjD45-31" target="mAXVmFulQRmJ9YafjD45-8" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="766.4000000000001" y="622.5" as="sourcePoint"/>
                        <mxPoint x="750" y="505" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-40" value="No" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="mAXVmFulQRmJ9YafjD45-39" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-41" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="mAXVmFulQRmJ9YafjD45-31" target="mAXVmFulQRmJ9YafjD45-43" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="850" y="585" as="sourcePoint"/>
                        <mxPoint x="930" y="555" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-42" value="Yes" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="mAXVmFulQRmJ9YafjD45-41" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mAXVmFulQRmJ9YafjD45-43" value="Answer" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="930" y="525" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="4AvHW_iGs4BZJp14RwmT-1" value="&lt;h1&gt;Self-Corrective RAG&lt;/h1&gt;&lt;p&gt;The main goal of self-corrective RAG is to further increase the relevancy and accuracy of retrieved information by implementing a self-correction pipeline. Responsible for optimizing information retrieval, ranking the retrieved chunks according to relevancy and querying out-side sources of information when chunks are ranked to be low-relevancy or low accuracy.&lt;/p&gt;&lt;p&gt;- Implements a Re-Ranking system to improve relevancy&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;- Uses WebSearch as a tool to improve context informational accuracy&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=24;" parent="1" vertex="1">
                    <mxGeometry x="50" y="20" width="990" height="350" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-71" value="" style="edgeStyle=none;html=1;fontSize=12;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="_qYqrkL04SmJ_UNGC9iL-2" target="_qYqrkL04SmJ_UNGC9iL-77" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="250" y="1405" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-2" value="Query" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="20" y="1375" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-26" value="&lt;h1&gt;SC-RAG with Query Analysis&lt;/h1&gt;&lt;p&gt;The main goal of self-corrective RAG with Query Analysis is to attempt to correct the informational relevancy and accuracy of LLM generations over just standard SC-RAG by implementing an intelligent Query Analysis pipeline.&lt;/p&gt;&lt;p&gt;- Analyzes the query itself for structured and unstructured data.&amp;nbsp;&lt;br&gt;- Formats the natural language query into a DB friendly format, and then retrieves relevant data from connected databases.&lt;br&gt;- Implements access to Relational, Graph, and Vector databases.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=24;" parent="1" vertex="1">
                    <mxGeometry x="25" y="770" width="800" height="410" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-90" value="" style="edgeStyle=none;html=1;fontSize=12;" parent="1" source="_qYqrkL04SmJ_UNGC9iL-77" target="_qYqrkL04SmJ_UNGC9iL-57" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-77" value="Query Analysis" style="swimlane;html=1;startSize=20;horizontal=0;childLayout=flowLayout;flowOrientation=west;resizable=0;interRankCellSpacing=50;containerType=tree;fontSize=12;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="180" y="1295" width="460" height="220" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-78" value="Analysis of Query Type" style="whiteSpace=wrap;html=1;rounded=1;fontSize=12;" parent="_qYqrkL04SmJ_UNGC9iL-77" vertex="1">
                    <mxGeometry x="40" y="90" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-79" value="VectorDB" style="whiteSpace=wrap;html=1;rounded=1;fontSize=12;" parent="_qYqrkL04SmJ_UNGC9iL-77" vertex="1">
                    <mxGeometry x="190" y="20" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-80" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="_qYqrkL04SmJ_UNGC9iL-77" source="_qYqrkL04SmJ_UNGC9iL-78" target="_qYqrkL04SmJ_UNGC9iL-79" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="152" y="100"/>
                            <mxPoint x="178" y="40"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-81" value="SQL" style="whiteSpace=wrap;html=1;rounded=1;fontSize=12;" parent="_qYqrkL04SmJ_UNGC9iL-77" vertex="1">
                    <mxGeometry x="190" y="90" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-82" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="_qYqrkL04SmJ_UNGC9iL-77" source="_qYqrkL04SmJ_UNGC9iL-78" target="_qYqrkL04SmJ_UNGC9iL-81" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="154" y="110"/>
                            <mxPoint x="178" y="110"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-83" value="Formatter" style="whiteSpace=wrap;html=1;rounded=1;fontSize=12;" parent="_qYqrkL04SmJ_UNGC9iL-77" vertex="1">
                    <mxGeometry x="340" y="90" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-84" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="_qYqrkL04SmJ_UNGC9iL-77" source="_qYqrkL04SmJ_UNGC9iL-79" target="_qYqrkL04SmJ_UNGC9iL-83" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="40"/>
                            <mxPoint x="328" y="100"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-85" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="_qYqrkL04SmJ_UNGC9iL-77" source="_qYqrkL04SmJ_UNGC9iL-81" target="_qYqrkL04SmJ_UNGC9iL-83" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="110"/>
                            <mxPoint x="326" y="110"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-88" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fontSize=12;noEdgeStyle=1;orthogonal=1;" parent="_qYqrkL04SmJ_UNGC9iL-77" source="_qYqrkL04SmJ_UNGC9iL-86" target="_qYqrkL04SmJ_UNGC9iL-83" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="180"/>
                            <mxPoint x="328" y="120"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-86" value="SQL+Semantic" style="whiteSpace=wrap;html=1;rounded=1;fontSize=12;" parent="_qYqrkL04SmJ_UNGC9iL-77" vertex="1">
                    <mxGeometry x="190" y="160" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-87" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="_qYqrkL04SmJ_UNGC9iL-77" source="_qYqrkL04SmJ_UNGC9iL-78" target="_qYqrkL04SmJ_UNGC9iL-86" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="460" y="242.5" as="sourcePoint"/>
                        <mxPoint x="510" y="270" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="152" y="120"/>
                            <mxPoint x="178" y="180"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-89" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="690" y="1200" width="920" height="410" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-57" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;" parent="_qYqrkL04SmJ_UNGC9iL-89" vertex="1">
                    <mxGeometry width="920" height="410" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-37" value="Re-Ranking/Grading of retrieved chunks" style="whiteSpace=wrap;html=1;rounded=1;" parent="_qYqrkL04SmJ_UNGC9iL-89" vertex="1">
                    <mxGeometry x="50" y="155" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-38" value="Any Relevant Docs?" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="_qYqrkL04SmJ_UNGC9iL-89" vertex="1">
                    <mxGeometry x="270" y="130" width="110" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-36" value="" style="edgeStyle=none;html=1;" parent="_qYqrkL04SmJ_UNGC9iL-89" source="_qYqrkL04SmJ_UNGC9iL-37" target="_qYqrkL04SmJ_UNGC9iL-38" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-39" value="Web Search" style="ellipse;whiteSpace=wrap;html=1;rounded=1;" parent="_qYqrkL04SmJ_UNGC9iL-89" vertex="1">
                    <mxGeometry x="350" y="45" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-41" value="Generate Answer" style="ellipse;whiteSpace=wrap;html=1;rounded=1;" parent="_qYqrkL04SmJ_UNGC9iL-89" vertex="1">
                    <mxGeometry x="350" y="265" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-42" value="" style="endArrow=classic;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="_qYqrkL04SmJ_UNGC9iL-89" source="_qYqrkL04SmJ_UNGC9iL-38" target="_qYqrkL04SmJ_UNGC9iL-39" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="160" y="15" as="sourcePoint"/>
                        <mxPoint x="260" y="15" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-43" value="No" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="_qYqrkL04SmJ_UNGC9iL-42" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-44" value="" style="endArrow=classic;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="_qYqrkL04SmJ_UNGC9iL-89" source="_qYqrkL04SmJ_UNGC9iL-38" target="_qYqrkL04SmJ_UNGC9iL-41" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="369" y="225" as="sourcePoint"/>
                        <mxPoint x="369" y="315" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-45" value="Yes" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="_qYqrkL04SmJ_UNGC9iL-44" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-46" value="Hallucinations?" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="_qYqrkL04SmJ_UNGC9iL-89" vertex="1">
                    <mxGeometry x="460" y="255" width="100" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-47" value="Answers Question?" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="_qYqrkL04SmJ_UNGC9iL-89" vertex="1">
                    <mxGeometry x="540" y="175" width="100" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-48" value="" style="endArrow=classic;html=1;exitX=0.764;exitY=0.275;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="_qYqrkL04SmJ_UNGC9iL-89" source="_qYqrkL04SmJ_UNGC9iL-46" target="_qYqrkL04SmJ_UNGC9iL-47" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="511.2499999999998" y="241.25" as="sourcePoint"/>
                        <mxPoint x="548.7499999999998" y="208.75" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-49" value="No" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="_qYqrkL04SmJ_UNGC9iL-48" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-40" value="" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="_qYqrkL04SmJ_UNGC9iL-89" source="_qYqrkL04SmJ_UNGC9iL-41" target="_qYqrkL04SmJ_UNGC9iL-46" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="480" y="305" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-50" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="_qYqrkL04SmJ_UNGC9iL-89" source="_qYqrkL04SmJ_UNGC9iL-46" target="_qYqrkL04SmJ_UNGC9iL-41" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="566.3999999999999" y="292.5" as="sourcePoint"/>
                        <mxPoint x="540" y="385" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="510" y="395"/>
                            <mxPoint x="390" y="395"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-51" value="Yes" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="_qYqrkL04SmJ_UNGC9iL-50" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-52" value="" style="endArrow=classic;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;" parent="_qYqrkL04SmJ_UNGC9iL-89" source="_qYqrkL04SmJ_UNGC9iL-47" target="_qYqrkL04SmJ_UNGC9iL-39" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="546.4000000000001" y="292.5" as="sourcePoint"/>
                        <mxPoint x="530" y="175" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-53" value="No" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="_qYqrkL04SmJ_UNGC9iL-52" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-54" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="_qYqrkL04SmJ_UNGC9iL-89" source="_qYqrkL04SmJ_UNGC9iL-47" target="_qYqrkL04SmJ_UNGC9iL-56" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="630" y="255" as="sourcePoint"/>
                        <mxPoint x="710" y="225" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-55" value="Yes" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="_qYqrkL04SmJ_UNGC9iL-54" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-56" value="Answer" style="rounded=1;whiteSpace=wrap;html=1;" parent="_qYqrkL04SmJ_UNGC9iL-89" vertex="1">
                    <mxGeometry x="710" y="195" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="_qYqrkL04SmJ_UNGC9iL-58" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;RAG + Self-reflection&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=12 12;" parent="_qYqrkL04SmJ_UNGC9iL-89" vertex="1">
                    <mxGeometry x="70" y="10" width="260" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-1" value="" style="edgeStyle=none;html=1;" parent="1" source="UAo4fOC-VhQz8XOZ0Xuf-2" target="UAo4fOC-VhQz8XOZ0Xuf-4" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-2" value="Data Preparation" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="25" y="-70" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-3" value="" style="edgeStyle=none;html=1;" parent="1" source="UAo4fOC-VhQz8XOZ0Xuf-4" target="UAo4fOC-VhQz8XOZ0Xuf-6" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-4" value="Information Extraction" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="25" y="-210" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-5" value="" style="edgeStyle=none;html=1;" parent="1" source="UAo4fOC-VhQz8XOZ0Xuf-6" target="UAo4fOC-VhQz8XOZ0Xuf-8" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-6" value="Chunking" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="25" y="-320" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-7" value="" style="edgeStyle=none;html=1;" parent="1" source="UAo4fOC-VhQz8XOZ0Xuf-8" target="UAo4fOC-VhQz8XOZ0Xuf-10" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-8" value="Embedding" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="25" y="-430" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-9" value="" style="edgeStyle=none;html=1;" parent="1" source="UAo4fOC-VhQz8XOZ0Xuf-10" target="UAo4fOC-VhQz8XOZ0Xuf-16" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-10" value="VectorDB" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="225" y="-430" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-11" value="" style="edgeStyle=none;html=1;" parent="1" source="UAo4fOC-VhQz8XOZ0Xuf-12" target="UAo4fOC-VhQz8XOZ0Xuf-10" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-12" value="Embedding" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="225" y="-550" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-13" value="" style="edgeStyle=none;html=1;" parent="1" source="UAo4fOC-VhQz8XOZ0Xuf-14" target="UAo4fOC-VhQz8XOZ0Xuf-12" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-14" value="User Query" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="445" y="-550" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-15" value="" style="edgeStyle=none;html=1;" parent="1" source="UAo4fOC-VhQz8XOZ0Xuf-16" target="UAo4fOC-VhQz8XOZ0Xuf-18" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-16" value="Relevant Data" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="425" y="-430" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-17" value="" style="edgeStyle=none;html=1;" parent="1" source="UAo4fOC-VhQz8XOZ0Xuf-18" target="UAo4fOC-VhQz8XOZ0Xuf-19" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-18" value="LLM(s)" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="625" y="-430" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-19" value="Response to User" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="625" y="-290" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="UAo4fOC-VhQz8XOZ0Xuf-20" value="&lt;h1&gt;Naieve RAG&lt;/h1&gt;&lt;p&gt;The goal of RAG is to increase the relevancy and accuracy of information for a specific domain application by implementing a retrieval pipeline into the LLM's response pattern.&amp;nbsp;&lt;/p&gt;&lt;p&gt;- Basic RAG pipeline&lt;br&gt;- Implements TextSplitter to chunk the data before generating an embedding, ideal chunk size is determined based on document type.&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;-&amp;nbsp; Ex: chunk_size=200, chunk_overlap=10&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=24;" parent="1" vertex="1">
                    <mxGeometry x="20" y="-950" width="800" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-4" value="&lt;h1&gt;Two-Stage RAG&lt;/h1&gt;&lt;div&gt;Cross-Encoder (BERT) with Query Expansion&lt;/div&gt;&lt;div&gt;&lt;br&gt;- Query Expansion is the generation of &lt;i&gt;n (~=5)&lt;/i&gt;&amp;nbsp;variations to the initial query and then using all &lt;i&gt;(~=6)&amp;nbsp;&lt;/i&gt;queries to run lookups against the vector-database.&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Uses an LLM to generate the expanded versions.&lt;br&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Uses Unit of Work Design pattern for expansion.&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Ex Prompt:&lt;br&gt;&lt;blockquote&gt;### CONTEXT&lt;br&gt;&lt;br&gt;You are an AI language model assistant. Your task is to generate five different versions of the given user question to retrieve relevant documents from a vector database. By generating multiple perspectives on the user question, your goal is to help the user overcome some of the limitations of the distance-based similarity search. &lt;br&gt;&lt;br&gt;### TASK&lt;br&gt;&lt;br&gt;Given [CONTEXT] you MUST provide these alternative questions as a JSON object with the questions inside of a JSON array.&lt;br&gt;Only provide the query, no numbering.&lt;br&gt;&lt;br&gt;#### Example response format&lt;br&gt;&lt;br&gt;{&quot;questions&quot;: [&quot;&quot;, &quot;&quot;]}&lt;br&gt;&lt;br&gt;####&amp;nbsp;Original question&lt;br&gt;{question}&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Implement a Set datastructure to ensure that all returned queries are unique&lt;br&gt;&lt;br&gt;- Cross Encoder: BERT&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Ex Model: ms-marco-MiniLM-L-6-v2&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Generate pairs [query, chunk] of the initial query and each unique chunk returned from previous step.&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Execute the Model on the pairs.&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Take the returned score and generate a list of tuples (score, chunk) where each score is mapped to the chunk it represents. Reverse sort the list.&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Retrieve only the 5 most similar chunks into a list, drop the scores so that we only have the content.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- LongContextReorder: Langchain Community&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- To prevent Lost in the Middle Problem we will reorder the list given to us by the CrossEncoder step to reorder the list with the most important chunks at the beginning and end of the list.&lt;br&gt;&lt;br&gt;-&amp;nbsp; Continue on to the rest of the pipeline.&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=24;" parent="1" vertex="1">
                    <mxGeometry x="20" y="1620" width="1350" height="1330" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-43" value="" style="edgeStyle=none;html=1;" parent="1" source="G2mZkTa5sIn1kamsg2Ry-44" target="G2mZkTa5sIn1kamsg2Ry-46" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-44" value="Data Preparation" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="550" y="3550" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-45" value="" style="edgeStyle=none;html=1;" parent="1" source="G2mZkTa5sIn1kamsg2Ry-46" target="G2mZkTa5sIn1kamsg2Ry-48" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-46" value="Information Extraction" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="550" y="3440" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-47" value="" style="edgeStyle=none;html=1;" parent="1" source="G2mZkTa5sIn1kamsg2Ry-48" target="G2mZkTa5sIn1kamsg2Ry-50" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-48" value="Chunking" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="550" y="3330" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-96" value="" style="edgeStyle=none;html=1;fontSize=12;" parent="1" source="G2mZkTa5sIn1kamsg2Ry-50" target="G2mZkTa5sIn1kamsg2Ry-52" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-50" value="Embedding" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="550" y="3220" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-98" value="" style="edgeStyle=none;html=1;fontSize=12;" parent="1" source="G2mZkTa5sIn1kamsg2Ry-52" target="G2mZkTa5sIn1kamsg2Ry-97" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-52" value="VectorDB" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="550" y="3120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-57" value="" style="edgeStyle=none;html=1;" parent="1" source="G2mZkTa5sIn1kamsg2Ry-58" target="G2mZkTa5sIn1kamsg2Ry-60" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-58" value="Relevant Data" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="1060" y="3120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-102" value="" style="edgeStyle=none;html=1;fontSize=12;" parent="1" source="G2mZkTa5sIn1kamsg2Ry-60" target="G2mZkTa5sIn1kamsg2Ry-61" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-60" value="LLM(s)" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="1230" y="3120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-61" value="Response to User" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="1400" y="3120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-95" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="G2mZkTa5sIn1kamsg2Ry-62" target="G2mZkTa5sIn1kamsg2Ry-52" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-62" value="Query Expansion" style="swimlane;html=1;startSize=20;horizontal=0;childLayout=flowLayout;flowOrientation=west;resizable=0;interRankCellSpacing=50;containerType=tree;fontSize=12;rotation=0;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="20" y="2970" width="460" height="360" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-63" value="User Query" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="40" y="160" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-64" value="Expand" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="190" y="20" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-65" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="G2mZkTa5sIn1kamsg2Ry-62" source="G2mZkTa5sIn1kamsg2Ry-63" target="G2mZkTa5sIn1kamsg2Ry-64" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="152" y="164"/>
                            <mxPoint x="178" y="40"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-66" value="Expand" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="190" y="90" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-67" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="G2mZkTa5sIn1kamsg2Ry-62" source="G2mZkTa5sIn1kamsg2Ry-63" target="G2mZkTa5sIn1kamsg2Ry-66" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="154" y="172"/>
                            <mxPoint x="178" y="110"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-73" value="Expand" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="190" y="160" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-74" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="G2mZkTa5sIn1kamsg2Ry-62" source="G2mZkTa5sIn1kamsg2Ry-63" target="G2mZkTa5sIn1kamsg2Ry-73" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="156" y="180"/>
                            <mxPoint x="178" y="180"/>
                        </Array>
                        <mxPoint x="5740" y="2867.5" as="sourcePoint"/>
                        <mxPoint x="5790" y="2840" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-75" value="Expand" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="190" y="230" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-76" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="G2mZkTa5sIn1kamsg2Ry-62" source="G2mZkTa5sIn1kamsg2Ry-63" target="G2mZkTa5sIn1kamsg2Ry-75" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="154" y="188"/>
                            <mxPoint x="178" y="250"/>
                        </Array>
                        <mxPoint x="5660" y="2880" as="sourcePoint"/>
                        <mxPoint x="5710" y="2940" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-77" value="Expand" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="190" y="300" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-78" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="G2mZkTa5sIn1kamsg2Ry-62" source="G2mZkTa5sIn1kamsg2Ry-63" target="G2mZkTa5sIn1kamsg2Ry-77" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="152" y="196"/>
                            <mxPoint x="178" y="320"/>
                        </Array>
                        <mxPoint x="5620" y="2896.25" as="sourcePoint"/>
                        <mxPoint x="5670" y="2990" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-84" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="G2mZkTa5sIn1kamsg2Ry-62" source="G2mZkTa5sIn1kamsg2Ry-64" target="G2mZkTa5sIn1kamsg2Ry-85" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="40"/>
                            <mxPoint x="328" y="40"/>
                        </Array>
                        <mxPoint x="4245" y="4329" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-85" value="Embedding" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="340" y="20" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-86" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="G2mZkTa5sIn1kamsg2Ry-62" source="G2mZkTa5sIn1kamsg2Ry-66" target="G2mZkTa5sIn1kamsg2Ry-87" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="110"/>
                            <mxPoint x="328" y="110"/>
                        </Array>
                        <mxPoint x="4165" y="4297" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-87" value="Embedding" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="340" y="90" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-88" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="G2mZkTa5sIn1kamsg2Ry-62" source="G2mZkTa5sIn1kamsg2Ry-73" target="G2mZkTa5sIn1kamsg2Ry-89" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="180"/>
                            <mxPoint x="328" y="180"/>
                        </Array>
                        <mxPoint x="4085" y="4265" as="sourcePoint"/>
                        <mxPoint x="5790" y="2840" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-89" value="Embedding" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="340" y="160" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-90" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="G2mZkTa5sIn1kamsg2Ry-62" source="G2mZkTa5sIn1kamsg2Ry-75" target="G2mZkTa5sIn1kamsg2Ry-91" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="250"/>
                            <mxPoint x="328" y="250"/>
                        </Array>
                        <mxPoint x="4005" y="4233" as="sourcePoint"/>
                        <mxPoint x="5710" y="2940" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-91" value="Embedding" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="340" y="230" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-92" value="" style="html=1;rounded=1;curved=0;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startSize=6;endSize=6;noEdgeStyle=1;orthogonal=1;fontSize=12;" parent="G2mZkTa5sIn1kamsg2Ry-62" source="G2mZkTa5sIn1kamsg2Ry-77" target="G2mZkTa5sIn1kamsg2Ry-93" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302" y="320"/>
                            <mxPoint x="328" y="320"/>
                        </Array>
                        <mxPoint x="3925" y="4201" as="sourcePoint"/>
                        <mxPoint x="5670" y="2990" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-93" value="Embedding" style="whiteSpace=wrap;html=1;fontSize=12;rotation=0;rounded=1;" parent="G2mZkTa5sIn1kamsg2Ry-62" vertex="1">
                    <mxGeometry x="340" y="300" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-100" value="" style="edgeStyle=none;html=1;fontSize=12;" parent="1" source="G2mZkTa5sIn1kamsg2Ry-97" target="G2mZkTa5sIn1kamsg2Ry-99" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-97" value="CrossEncoder" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="720" y="3120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-101" value="" style="edgeStyle=none;html=1;fontSize=12;" parent="1" source="G2mZkTa5sIn1kamsg2Ry-99" target="G2mZkTa5sIn1kamsg2Ry-58" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-99" value="LongContextReorder" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="890" y="3120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-104" value="KnowledgeBase" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=12 12;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="580" y="3640" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="G2mZkTa5sIn1kamsg2Ry-106" value="Insert RAG pipeline here" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;dashPattern=12 12;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="1217.5" y="3200" width="145" height="30" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="yAZ0JCJkuH0TIPczVQiO" name="Prompt Strategies">
        <mxGraphModel dx="1772" dy="1936" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="tV9irZ85OFWW25PbOxgG-38" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-1" target="tV9irZ85OFWW25PbOxgG-37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-1" value="Start" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="40" y="240" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-21" value="&lt;h1 style=&quot;line-height: 100%;&quot;&gt;&lt;font face=&quot;Arial&quot;&gt;Worker/Researcher Pattern&lt;/font&gt;&lt;/h1&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;The goal of the Worker pattern is to delegate part of the work load by first breaking up the task into &lt;i&gt;n&lt;/i&gt; individual prompts and executing their tasks concurrently. Then perform strategies to summarize and combine the mean answer from each worker.&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Run each worker in parallel&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Funnel all results into a final summary or format prompt.&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#f3f3f3&quot;&gt;- Most popular for research, code generation, planning, and agentic workflows.&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#f3f3f3&quot;&gt;- Planning step provides context, but not the full task. The worker generator is used to generated the context per task from the initial plan.&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#f3f3f3&quot;&gt;- Use JSON responses for all LLM interactions for a consistent structure.&lt;/font&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="40" y="-350" width="1000" height="490" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-22" value="" style="edgeStyle=none;html=1;fontSize=24;" parent="1" source="tV9irZ85OFWW25PbOxgG-23" target="tV9irZ85OFWW25PbOxgG-25" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-23" value="Start" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="40" y="-490" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-24" value="" style="edgeStyle=none;html=1;fontSize=24;" parent="1" source="tV9irZ85OFWW25PbOxgG-25" target="tV9irZ85OFWW25PbOxgG-27" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-25" value="Base Information" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="200" y="-520" width="120" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-26" value="" style="edgeStyle=none;html=1;fontSize=24;" parent="1" source="tV9irZ85OFWW25PbOxgG-27" target="tV9irZ85OFWW25PbOxgG-29" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-27" value="Snowball Prompt 1" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="340" y="-490" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-28" value="" style="edgeStyle=none;html=1;fontSize=24;" parent="1" source="tV9irZ85OFWW25PbOxgG-29" target="tV9irZ85OFWW25PbOxgG-31" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-29" value="Snowball Prompt 2" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="490" y="-490" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-30" value="" style="edgeStyle=none;html=1;fontSize=24;" parent="1" source="tV9irZ85OFWW25PbOxgG-31" target="tV9irZ85OFWW25PbOxgG-33" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-31" value="Snowball Prompt 3" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="630" y="-490" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-32" value="" style="edgeStyle=none;html=1;fontSize=24;" parent="1" source="tV9irZ85OFWW25PbOxgG-33" target="tV9irZ85OFWW25PbOxgG-34" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-33" value="Summary/Format Prompt" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="780" y="-490" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-34" value="End" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="930" y="-490" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-35" value="&lt;h1 style=&quot;line-height: 100%;&quot;&gt;&lt;font face=&quot;Arial&quot;&gt;Snowball Prompt&lt;/font&gt;&lt;/h1&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;The goal of Snowball is to treat each prompt as a highly specialized input/output function system. This takes a &quot;Everything is a Function&quot; approach. At each step the LLM will enlarge the context of the problem domain and thus &quot;snowball&quot; into an answer. It is common to structure the snowballs as JSON strings whereby the LLM iteratively expounds on the context and content - until the last prompt which executes the main given task.&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#e4eeff&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;-&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#ffffff&quot; face=&quot;Arial&quot; style=&quot;font-size: 24px;&quot;&gt;Start with base information as initial prompt. This outlines the goal to be achieved.&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); font-family: Arial; background-color: initial;&quot;&gt;- The next prompt (sb-1) adds a specific task and method to achieve the task. Highly specific and clear. Formats the base information into the prompt.&lt;/span&gt;&lt;/p&gt;&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#ffffff&quot; face=&quot;Arial&quot; style=&quot;font-size: 24px;&quot;&gt;- Each consecutive snowball does the same as above, however formats the previous snowball prompt response into itself. instead of the base information. Adds new context as needed.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;span style=&quot;background-color: initial; color: rgb(255, 255, 255); font-family: Arial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;span style=&quot;background-color: initial; color: rgb(255, 255, 255); font-family: Arial;&quot;&gt;- Perform this for n iterations, typical is 3. Then the last prompt is to summarize and format the prompt and execute the task.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="40" y="-1070" width="1000" height="530" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-40" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-37" target="tV9irZ85OFWW25PbOxgG-39" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-43" style="edgeStyle=none;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-37" target="tV9irZ85OFWW25PbOxgG-42" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="300" y="180"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-44" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-37" target="tV9irZ85OFWW25PbOxgG-41" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="300" y="360"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-37" value="Plan Prompt" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="240" y="240" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-46" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-39" target="tV9irZ85OFWW25PbOxgG-45" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-39" value="Worker Prompt 1" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="440" y="240" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-48" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-41" target="tV9irZ85OFWW25PbOxgG-45" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="715" y="360"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-41" value="Wokrer Prompt 2" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="440" y="330" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-47" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-42" target="tV9irZ85OFWW25PbOxgG-45" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="715" y="180"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-42" value="Worker Prompt 3" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="440" y="150" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-50" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-45" target="tV9irZ85OFWW25PbOxgG-49" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-45" value="Summary/Format Prompt" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="640" y="240" width="150" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-49" value="End" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="820" y="240" width="150" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-68" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-52" target="tV9irZ85OFWW25PbOxgG-67" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-52" value="Start" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="40" y="1190" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-53" value="&lt;h1 style=&quot;line-height: 100%;&quot;&gt;&lt;font face=&quot;Arial&quot;&gt;Fallback Chain&lt;/font&gt;&lt;/h1&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;The goal of the fallback chain is to &lt;i&gt;fallback &lt;/i&gt;to another prompt or model is something goes wrong with the first query execution. Could be trivial things like network error, or more strategic such as testing execution with smaller and cheaper models first and checking the result before falling back to larger more expensive models.&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;- Run the fastest and cheapest model/prompt first, take the response and run a process to rank for relevance and accuracy. If the process fails - fallback to the next model/prompt and repeat until the run process succeeds.&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;- Can be used for dynamic prompt/token optimization, use aggressive LLMLingua strategies, token reduction, and abstraction initially and dial this back until the run process succeeds with an acceptable quality level.&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;- Requires an Eval&amp;nbsp; function: What are we trying to run given the output of the LLM, how can we validate the response with a quality factor or binary true or false pass.&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;- Used in tandem with Lazy Cache and Agent specific caches&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;- Ex: Groq Mixtral-8x7b Hyper Speed Agent -&amp;gt; GPT-3.5 Fast Agent -&amp;gt; GPT-4 Accurate Agent&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="40" y="450" width="980" height="620" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-72" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-67" target="tV9irZ85OFWW25PbOxgG-71" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-67" value="Top priority Prompt/Model" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="200" y="1190" width="170" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-73" style="edgeStyle=none;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="tV9irZ85OFWW25PbOxgG-71" target="tV9irZ85OFWW25PbOxgG-74" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="520" y="1160" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="480" y="1160"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-75" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="tV9irZ85OFWW25PbOxgG-71" target="tV9irZ85OFWW25PbOxgG-76" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="910" y="1220" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="945" y="1270"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-71" value="Run Process" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="410" y="1170" width="95" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-81" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-74" target="tV9irZ85OFWW25PbOxgG-79" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-74" value="Secondary Fallback Prompt/Model" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="530" y="1130" width="170" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-76" value="End" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="920" y="1190" width="50" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-77" style="edgeStyle=none;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="tV9irZ85OFWW25PbOxgG-79" target="tV9irZ85OFWW25PbOxgG-80" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="880" y="1100" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="800" y="1100"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-78" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tV9irZ85OFWW25PbOxgG-79" target="tV9irZ85OFWW25PbOxgG-76" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="900" y="1220" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="945" y="1160"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-79" value="Run Process" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="730" y="1110" width="95" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-82" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="tV9irZ85OFWW25PbOxgG-80" target="tV9irZ85OFWW25PbOxgG-76" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1000" y="1220"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="tV9irZ85OFWW25PbOxgG-80" value="Final Fallback Prompt/Model" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="830" y="1070" width="170" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-3" value="&lt;h1 style=&quot;line-height: 100%;&quot;&gt;&lt;font face=&quot;Arial&quot;&gt;Decision Maker Chain&lt;/font&gt;&lt;/h1&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;The goal of the decision maker is to apply conditional operations to prompt chains. Based on a decision from a prompt, run a different prompt chain.&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;- Simple chain&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;- Greate for creative direction, dictating dynamic flow control, contextual decision making, dynamic prompting, multiple prompt architectures.&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;- The power to offload decision making into the agent itself.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="40" y="1350" width="980" height="360" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-32" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="Sfbl6QKQHZUUNCzOXFiN-33" target="Sfbl6QKQHZUUNCzOXFiN-37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-33" value="Start" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="40" y="1810" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-37" value="Decision Maker" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="240" y="1810" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-38" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="Sfbl6QKQHZUUNCzOXFiN-39" target="Sfbl6QKQHZUUNCzOXFiN-45" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-39" value="Prompt Chain 1" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="440" y="1810" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-40" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="Sfbl6QKQHZUUNCzOXFiN-41" target="Sfbl6QKQHZUUNCzOXFiN-45" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="715" y="1930"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-41" value="Prompt Chain 2" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="440" y="1900" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-42" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="Sfbl6QKQHZUUNCzOXFiN-43" target="Sfbl6QKQHZUUNCzOXFiN-45" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="715" y="1750"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-43" value="Prompt Chain 3" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="440" y="1720" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-45" value="END" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="640" y="1810" width="150" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-47" value="" style="endArrow=classic;html=1;fontFamily=Helvetica;fontSize=12;fontColor=#f3f3f3;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Sfbl6QKQHZUUNCzOXFiN-37" target="Sfbl6QKQHZUUNCzOXFiN-43" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="380" y="1600" as="sourcePoint"/>
                        <mxPoint x="480" y="1600" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="300" y="1750"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-48" value="IF" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#f3f3f3;fillColor=none;gradientColor=none;" parent="Sfbl6QKQHZUUNCzOXFiN-47" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-49" value="" style="endArrow=classic;html=1;fontFamily=Helvetica;fontSize=12;fontColor=#f3f3f3;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Sfbl6QKQHZUUNCzOXFiN-37" target="Sfbl6QKQHZUUNCzOXFiN-39" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="310" y="1820" as="sourcePoint"/>
                        <mxPoint x="450" y="1760" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-50" value="IF" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#f3f3f3;fillColor=none;gradientColor=none;" parent="Sfbl6QKQHZUUNCzOXFiN-49" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-51" value="" style="endArrow=classic;html=1;fontFamily=Helvetica;fontSize=12;fontColor=#f3f3f3;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Sfbl6QKQHZUUNCzOXFiN-37" target="Sfbl6QKQHZUUNCzOXFiN-41" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="370" y="1850" as="sourcePoint"/>
                        <mxPoint x="450" y="1850" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="300" y="1930"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-52" value="IF" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#f3f3f3;fillColor=none;gradientColor=none;" parent="Sfbl6QKQHZUUNCzOXFiN-51" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-53" value="&lt;h1 style=&quot;line-height: 100%;&quot;&gt;&lt;font face=&quot;Arial&quot;&gt;Plan and Execute&lt;/font&gt;&lt;/h1&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;The goal of the plan and execute pattern is to generate Chain of Thought or Tree of thought flows. Ideal for planning, summarizing, reasoning processes.&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Great as an agent tasked with reasoning, refining, and generating content from user queries or unstructured data.&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Most simplified form only requires 2 prompts to run.&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- First generate a plan based on user context&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Next execute the generated plan.&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Replan: The original query, original plan, and last step output are given to a replanner agent. This will either update the plan, or return the output to the user if all tasks are complete. This is a look and reflect process that iterates &lt;i&gt;n &lt;/i&gt;times until we reach 1. a token threshold, 2. A recurcion limit value 3. The LLM determines the plan is executed adequetly.&lt;/font&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="40" y="2040" width="980" height="530" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-54" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="Sfbl6QKQHZUUNCzOXFiN-55" target="Sfbl6QKQHZUUNCzOXFiN-56" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-55" value="Start" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="40" y="2580" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-3" value="" style="edgeStyle=none;html=1;" parent="1" source="Sfbl6QKQHZUUNCzOXFiN-56" target="X08GYxVmgWKyleAdYQjS-2" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Sfbl6QKQHZUUNCzOXFiN-56" value="Plan prompt" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="200" y="2580" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-5" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-2" target="X08GYxVmgWKyleAdYQjS-4" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-2" value="Generate Tasks" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="200" y="2670" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-12" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-4" target="X08GYxVmgWKyleAdYQjS-11" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-4" value="Single task Agent" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="350" y="2670" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-8" value="" style="verticalLabelPosition=bottom;html=1;verticalAlign=top;strokeWidth=2;shape=mxgraph.lean_mapping.physical_pull;pointerEvents=1;rotation=0;" parent="1" vertex="1">
                    <mxGeometry x="485" y="2655" width="90" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-10" value="&lt;span style=&quot;background-color: rgb(24, 20, 29);&quot;&gt;Loop to solve Task&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="500" y="2685" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-15" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-11" target="X08GYxVmgWKyleAdYQjS-14" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-11" value="Replan" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="260" y="2810" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-14" value="End" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="410" y="2810" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-16" value="" style="endArrow=classic;html=1;dashed=1;dashPattern=8 8;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" parent="1" source="X08GYxVmgWKyleAdYQjS-11" target="X08GYxVmgWKyleAdYQjS-2" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="470" y="2890" as="sourcePoint"/>
                        <mxPoint x="520" y="2840" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-17" value="&lt;h1 style=&quot;line-height: 100%;&quot;&gt;&lt;font face=&quot;Arial&quot;&gt;Reasoning Without Observation&lt;/font&gt;&lt;/h1&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;The goal of the ReWOO pattern is to combine the multi-step plan and execute (above) with variable substitution for effective tool use. The goal here is to have the planner generate a highly structured and specific plan with a task list and special variables as the arguments to allow for substitution.&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Execute the tasks in a one-shot stage instead of multiple iterations.&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial; background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Reduce Token consumption and execution time.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial; background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;- Provide a full chain of tools to use in a single step.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Example Task List:&amp;nbsp;&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial; background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;Plan: I should look up the superbowl contendors&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial; background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;E1. Search[superbowl contendors for [date]]&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial; background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;Plan: Get First Team.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial; background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;E2. LLM[first team from #E1]&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial; background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;Plan: Look up the stats for Team 1.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial; background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;E3. Search[Stats for #E2].&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Example 2:&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial; white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial;&quot;&gt;result = model.invoke(prompt.format(task=task))&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(243, 243, 243); font-family: Arial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;print(result.content)&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;Plan: Identify the winner of the 2023 Australian Open.&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;#E1 = Google[&quot;2023 Australian Open Winner&quot;]&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;Plan: Find the hometown of the indentified winner from #E1.&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;#E2 = Google[&quot;hometown of &quot; + #E1]&amp;nbsp;&lt;br&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Task list is generated with variable dependancies that are persistent throughout the entire task list so that it can be executed on it one stage.&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- The plan is parsed and each step is sequentially executed by the LLM Worker Agent&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- As each step is executed, the output is substituted into the placeholder variable of the next step and fed back into the LLM Agent - using a &quot;snowball&quot; prompt approach to build more context sequentially.&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- When all steps are complete, the plan and the &quot;evidence&quot; from the tool execution is fed to a Solver Agent. The solver generates and returns a final response to the user.&lt;/font&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="40" y="2900" width="980" height="1090" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-48" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=24;fontColor=#f3f3f3;" parent="1" source="X08GYxVmgWKyleAdYQjS-49" target="X08GYxVmgWKyleAdYQjS-51" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-49" value="Start" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="40" y="3990" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-50" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-51" target="X08GYxVmgWKyleAdYQjS-53" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-51" value="Plan prompt" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="200" y="3990" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-52" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-53" target="X08GYxVmgWKyleAdYQjS-55" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-53" value="Generate Tasks" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="200" y="4080" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-63" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-55" target="X08GYxVmgWKyleAdYQjS-62" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-55" value="Worker" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="350" y="4080" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-56" value="" style="verticalLabelPosition=bottom;html=1;verticalAlign=top;strokeWidth=2;shape=mxgraph.lean_mapping.physical_pull;pointerEvents=1;rotation=0;" parent="1" vertex="1">
                    <mxGeometry x="485" y="4065" width="90" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-57" value="&lt;span style=&quot;background-color: rgb(24, 20, 29);&quot;&gt;Loop to solve Tasks&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="500" y="4095" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-60" value="End" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="350" y="4290" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-64" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-62" target="X08GYxVmgWKyleAdYQjS-60" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-62" value="Solver" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="350" y="4190" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-65" value="&lt;h1 style=&quot;line-height: 100%;&quot;&gt;&lt;font face=&quot;Arial&quot;&gt;LLMCompiler&lt;/font&gt;&lt;/h1&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;The goal of the LLMCompiler is to optimize ReWOO using parallel compute and a direct acyclic graph from traditional compiler design.&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;-&amp;nbsp; Automatically generate an optimize orchestration for parallel function calling&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Uses a ReAct style function calling approach&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;- Planner takes in the input and generates a task list with placeholder variables (just like ReWOO) for subsequent task dependancies, as well as &quot;thought&quot; lines for reasoning through the plan.&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 100%;&quot;&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;-Example:&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;Q: What is the temp in Sanfrancisco raised to the 3rd power?&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;SYS: Remember, ONLY response with the task list in the correct format! IMPORTANT!! E.g.: idex.tool(arg_name=args)&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;Output:&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;1. Search[query=&quot;current temp in San Francisco&quot;]&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;2. math[problem=&quot;$1^3&quot;, context=[&quot;$1&quot;]]&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;3. join()&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#f3f3f3&quot; style=&quot;font-size: 24px;&quot; face=&quot;Arial&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;&amp;lt;END_OF_PLAN&amp;gt;&lt;/font&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;font face=&quot;Arial&quot; color=&quot;#f3f3f3&quot;&gt;- A Task Fetching Unit then parses the plan, and determines the inter-dependancies of eachstep. Tasks that have no interdependencies are fetched together and sent to an executor.&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Arial&quot; color=&quot;#f3f3f3&quot;&gt;- The LLMPlanner generates a DAG of tasks with their deps. These tasks are then dispatched by the Task Fetching Unit to the Executor in parallel based on their depps. When a task does not have a dep graph, it is executed in paralle - when it does it is blocked until all deps are resolved and placeholder variables are replaced. Only once all tasks in the queue are resolved, is an answer sent to the user.&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Arial&quot; color=&quot;#f3f3f3&quot;&gt;- The output of the fully executed plan is sent to a `joiner` agent, which either determines the final answer from the context or appens a thought to the end of the original plan and sends it back to the planner to replan.&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Arial&quot; color=&quot;#f3f3f3&quot;&gt;- If needed to replan, a continuation of the plan is created (not a completely new one) and goes through the above loop until the joiner determines enough information is tere to return an output to the user - relative to the original context of the query.&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="40" y="4400" width="1210" height="1050" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-82" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-67" target="X08GYxVmgWKyleAdYQjS-81" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-67" value="Start" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="40" y="5500" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-81" value="ReWOO Planner" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="190" y="5500" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-83" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="X08GYxVmgWKyleAdYQjS-81" target="X08GYxVmgWKyleAdYQjS-85" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="190" y="5500" as="sourcePoint"/>
                        <mxPoint x="360" y="5530" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-84" value="Stream Task DAG" style="edgeLabel;resizable=0;html=1;align=center;verticalAlign=middle;" parent="X08GYxVmgWKyleAdYQjS-83" connectable="0" vertex="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-91" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-85" target="X08GYxVmgWKyleAdYQjS-90" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-85" value="Task Fetching Unit" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="440" y="5500" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-92" style="edgeStyle=none;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;dashed=1;dashPattern=8 8;" parent="1" source="X08GYxVmgWKyleAdYQjS-90" target="X08GYxVmgWKyleAdYQjS-85" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-94" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-90" target="X08GYxVmgWKyleAdYQjS-93" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-90" value="Joiner(Replanner)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="440" y="5640" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-93" value="End" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="610" y="5640" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-95" value="" style="verticalLabelPosition=bottom;html=1;verticalAlign=top;strokeWidth=2;shape=mxgraph.lean_mapping.physical_pull;pointerEvents=1;rotation=0;" parent="1" vertex="1">
                    <mxGeometry x="350" y="5560" width="90" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-96" value="&lt;span style=&quot;background-color: rgb(24, 20, 29);&quot;&gt;Loop to solve Tasks&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="365" y="5590" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-114" value="" style="edgeStyle=none;html=1;entryX=-0.001;entryY=0.193;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="X08GYxVmgWKyleAdYQjS-98" target="X08GYxVmgWKyleAdYQjS-110" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="220" y="5750" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-98" value="Start" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="40" y="5777.5" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-121" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-110" target="X08GYxVmgWKyleAdYQjS-120" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-110" value="LLM Planner" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="210" y="5777.5" width="240" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-111" value="$1 = search(&quot;Some query&quot;)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="X08GYxVmgWKyleAdYQjS-110" vertex="1">
                    <mxGeometry y="30" width="240" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-112" value="$2 = search(&quot;Some other query&quot;)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="X08GYxVmgWKyleAdYQjS-110" vertex="1">
                    <mxGeometry y="60" width="240" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-113" value="$3 = math($1 / $2)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="X08GYxVmgWKyleAdYQjS-110" vertex="1">
                    <mxGeometry y="90" width="240" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-115" value="$4 = llm($3)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="X08GYxVmgWKyleAdYQjS-110" vertex="1">
                    <mxGeometry y="120" width="240" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-119" value="DAG of Tasks" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="295" y="5910" width="80" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-154" value="" style="edgeStyle=none;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="X08GYxVmgWKyleAdYQjS-120" target="X08GYxVmgWKyleAdYQjS-122" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-120" value="Task Fetching Unit" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=0;startSize=30;" parent="1" vertex="1">
                    <mxGeometry x="490" y="5765" width="120" height="175" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-156" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-122" target="X08GYxVmgWKyleAdYQjS-155" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-158" value="" style="edgeStyle=none;html=1;" parent="1" source="X08GYxVmgWKyleAdYQjS-122" target="X08GYxVmgWKyleAdYQjS-120" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-122" value="Executor" style="swimlane;startSize=20;horizontal=1;containerType=tree;rounded=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;" parent="1" vertex="1">
                    <mxGeometry x="660" y="5760" width="300" height="240" as="geometry">
                        <mxRectangle x="630" y="5880" width="120" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-140" value="" style="rounded=1;whiteSpace=wrap;html=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="10" y="30" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-123" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startArrow=none;endArrow=none;rounded=0;curved=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" source="X08GYxVmgWKyleAdYQjS-124" target="X08GYxVmgWKyleAdYQjS-125" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-124" value="Tool" style="whiteSpace=wrap;html=1;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;};rounded=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="45" y="40" width="50" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-125" value="Memory" style="whiteSpace=wrap;html=1;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;};rounded=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="45" y="80" width="50" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-141" value="" style="rounded=1;whiteSpace=wrap;html=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="170" y="30" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-142" value="Tool" style="whiteSpace=wrap;html=1;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;};rounded=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="205" y="40" width="50" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-143" value="Memory" style="whiteSpace=wrap;html=1;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;};rounded=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="205" y="80" width="50" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-144" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startArrow=none;endArrow=none;rounded=0;curved=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" source="X08GYxVmgWKyleAdYQjS-142" target="X08GYxVmgWKyleAdYQjS-143" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="70" y="60" as="sourcePoint"/>
                        <mxPoint x="70" y="80" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-146" value="" style="rounded=1;whiteSpace=wrap;html=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="10" y="140" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-147" value="Tool" style="whiteSpace=wrap;html=1;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;};rounded=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="45" y="150" width="50" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-148" value="Memory" style="whiteSpace=wrap;html=1;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;};rounded=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="45" y="190" width="50" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-149" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startArrow=none;endArrow=none;rounded=0;curved=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" target="X08GYxVmgWKyleAdYQjS-148" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="70" y="170" as="sourcePoint"/>
                        <mxPoint x="70" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-150" value="" style="rounded=1;whiteSpace=wrap;html=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="170" y="140" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-151" value="Tool" style="whiteSpace=wrap;html=1;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;};rounded=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="205" y="150" width="50" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-152" value="Memory" style="whiteSpace=wrap;html=1;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;};rounded=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" vertex="1">
                    <mxGeometry x="205" y="190" width="50" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-153" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;sourcePerimeterSpacing=0;targetPerimeterSpacing=0;startArrow=none;endArrow=none;rounded=0;curved=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="X08GYxVmgWKyleAdYQjS-122" source="X08GYxVmgWKyleAdYQjS-151" target="X08GYxVmgWKyleAdYQjS-152" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="70" y="170" as="sourcePoint"/>
                        <mxPoint x="70" y="190" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-157" style="edgeStyle=none;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="X08GYxVmgWKyleAdYQjS-155" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="810" y="6000" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="X08GYxVmgWKyleAdYQjS-155" value="Tools (Search, Math, llm, API calls)" style="whiteSpace=wrap;html=1;fontStyle=1;startSize=20;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="680" y="6040" width="260" height="60" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>